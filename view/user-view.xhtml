<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:f="http://java.sun.com/jsf/core" 
				xmlns:h="http://java.sun.com/jsf/html" 
				xmlns:a="http://richfaces.org/a4j"
				xmlns:rich="http://richfaces.org/rich" 
				xmlns:s="http://jboss.com/products/seam/taglib" 
				contentType="text/html" 
				template="layout/template.xhtml">

	<ui:define name="title">#{messages['user.view.title']}</ui:define>

	<ui:define name="data-navbar">
		<ui:include src="layout/#{s:hasRole('ACCOUNTANT') ? 'admin-' : ''}sidebar.xhtml" />
	</ui:define>

	<ui:define name="data-main-title">
		#{messages['user.details']}
	</ui:define>

	<ui:define name="data-main-body">

		<div class="form-horizontal">
			<s:decorate id="usernameField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.username']}</ui:define>
				<h:outputText value="#{userShared.username}" />
			</s:decorate>

			<s:decorate id="firstNameField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.firstName']}</ui:define>
				<h:outputText value="#{userShared.firstName}" />
			</s:decorate>

			<s:decorate id="lastNameField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.lastName']}</ui:define>
				<h:outputText value="#{userShared.lastName}" />
			</s:decorate>

			<s:decorate id="jobTitleField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.jobTitle']}</ui:define>
				<h:outputText value="#{userShared.jobTitle}" />
			</s:decorate>

			<s:decorate id="genderField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.gender']}</ui:define>
				<h:outputText value="#{messages[userShared.gender.label]}" />
			</s:decorate>

			<s:decorate id="emailField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.email']}</ui:define>
				<h:outputText value="#{userShared.email}" />
			</s:decorate>

			<s:decorate id="departmentField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.department']}</ui:define>
				<h:outputText value="#{messages[user.department.nameKey]}" />
			</s:decorate>
			
			<!--s:decorate id="dateOfBirthField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.dateOfBirth']}</ui:define>
				<h:outputText value="#{userShared.dateOfBirth}">
					<s:convertDateTime pattern="#{messages['pattern.date.short']}" />
				</h:outputText>
			</s:decorate-->

			<s:decorate id="rolesField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.roles']}</ui:define>
				<ui:repeat var="r" value="#{user.roles}">
					<h:outputText value="#{messages[r.nameKey]}" /> <br />
				</ui:repeat>
			</s:decorate>

			<s:decorate id="enabledField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.enabled']}</ui:define>
				<h:outputText value="#{userShared.enabled ? messages.yes : messages.no}" />
			</s:decorate>
			
			<s:decorate id="createdDateField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.created']}</ui:define>
				<h:outputText value="#{userShared.createdDate}">
						<s:convertDateTime pattern="#{messages['pattern.date.long']}" />
					</h:outputText>
			</s:decorate>
			
			<s:decorate id="lastLoginField" template="layout/display.xhtml">
				<ui:define name="label">#{messages['user.lastLogin']}</ui:define>
				<h:outputText value="#{user.lastLogin}">
						<s:convertDateTime pattern="#{messages['pattern.date.long']}" />
				</h:outputText>
			</s:decorate>

			<div class="form-actions">
				<s:button id="edit" view="/user-edit.xhtml" value="#{messages['common.edit']}" styleClass="btn"/>
				<s:button id="done" view="/#{s:hasRole('ACCOUNTANT') ? 'user' : 'report' }-list.xhtml" value="#{messages['common.done']}" styleClass="btn"/>
			</div>

		</div>
	</ui:define>
</ui:composition>
